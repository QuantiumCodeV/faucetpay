(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[93],{1261:function(e,t,i){e.exports={headerHeight:"90px",mobileHeader:"90px",footerHeight:"80px",mobileFooterHeight:"150px",mobileWidth:"900px",inviteMobile2:"600px",gameMobile1:"1050px",gameMobile4:"800px",button:"style_button__2rOVa"}},1262:function(e,t,i){e.exports={headerHeight:"90px",mobileHeader:"90px",footerHeight:"80px",mobileFooterHeight:"150px",mobileWidth:"900px",inviteMobile2:"600px",gameMobile1:"1050px",gameMobile4:"800px",paper:"style_paper__2zK9n",title:"style_title__3kZDh",cell:"style_cell__1eDlt",tableRoot:"style_tableRoot__3UoZ-",pagination:"style_pagination__3Fr5D"}},1263:function(e,t,i){e.exports={wrapper:"style_wrapper__2aa7O",coin:"style_coin__3wEsE",bet:"style_bet__3VRF5"}},1264:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i(171),a=i(295),r=i(172),o=i(189),c=i(314),l=i(311),s=i(276),u=i(300);function b(e){for(var t,i,b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];var p=null!==(t=Object(s.b)(b))&&void 0!==t?t:l.b,f=null!==(i=b[0])&&void 0!==i?i:null,h=b[1]||1/0;return Object(r.a)((function(t,i){var r=[],l=!1,s=function(e){var t=e.buffer;e.subs.unsubscribe(),Object(c.a)(r,e),i.next(t),l&&b()},b=function(){if(r){var t=new a.b;i.add(t);var n={buffer:[],subs:t};r.push(n),Object(u.a)(t,p,(function(){return s(n)}),e)}};null!==f&&f>=0?Object(u.a)(i,p,b,f,!0):l=!0,b();var d=Object(o.a)(i,(function(e){var t,i,a=r.slice();try{for(var o=Object(n.j)(a),c=o.next();!c.done;c=o.next()){var l=c.value,u=l.buffer;u.push(e),h<=u.length&&s(l)}}catch(b){t={error:b}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}}),(function(){for(;null===r||void 0===r?void 0:r.length;)i.next(r.shift().buffer);null===d||void 0===d||d.unsubscribe(),i.complete(),i.unsubscribe()}),void 0,(function(){return r=null}));t.subscribe(d)}))}},1460:function(e,t,i){"use strict";i.r(t);var n=i(43),a=i(17),r=i(3),o=i(412),c=i(1463),l=i(717),s=i(1264),u=i(21),b=i(67),d=i(27),p=i(345),f=i(512),h=i(85),m=i(91),v=i(1261),O=i.n(v),_=i(125),j=i(0),g=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),i=t[0],n=t[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(_.d,{active:!0,className:O.a.button,onClick:function(){return n(!0)},children:"Game History"}),Object(j.jsx)(M,{isOpen:i,setClose:function(){return n(!1)}})]})},x=i(127),y=i(29),w=i(531),N=i(1262),C=i.n(N),M=function(e){var t,i,n,o=e.isOpen,c=e.setClose,l=Object(x.a)(),s=Object(y.a)("/games/get-bets",{method:"POST"}),u=Object(a.a)(s,2),b=u[0],d=u[1],p=d.data,f=d.isLoading;return Object(r.useEffect)((function(){l&&o&&b({data:{page:1,game_id:l.toLocaleUpperCase()}})}),[l,o]),Object(j.jsx)(w.a,{isOpen:o,setClose:c,title:l+" Game History",classes:{title:C.a.title,wrapper:C.a.paper},children:Object(j.jsx)(m.a,{isOpenBetModalOnClick:!0,classes:{header:C.a.cell,row:C.a.cell,root:C.a.tableRoot},loading:f,columns:[{field:"id",headerName:"ID"},{headerName:"Bet Amount",field:"bet_amt",coinRender:!0},{headerName:"Payout",field:"payout"},{headerName:"Profit",field:"profit",highlightWinValue:!0,coinRender:!0}],values:(null===p||void 0===p||null===(t=p.data)||void 0===t?void 0:t.transactions.map((function(e){var t=e.id,i=e.bet_amt,n=e.payout,a=e.coin;return{id:t,bet_amt:i,payout:"".concat(Number(n).toFixed(2),"x"),profit:Object(h.a)(i,n,!0),coin:{symbol:a}}})))||[],infinityPagination:{currentPage:(null===p||void 0===p||null===(i=p.data)||void 0===i?void 0:i.current_page)||1,isNextPageExist:((null===p||void 0===p||null===(n=p.data)||void 0===n?void 0:n.transactions.length)||0)>=15,setPage:function(e){f||b({data:{game_id:null===l||void 0===l?void 0:l.toLocaleUpperCase(),page:e}})},className:C.a.pagination}})})},H=i(1263),P=i.n(H);t.default=function(e){var t=e.displayed,i=Object(r.useState)([]),v=Object(a.a)(i,2),O=v[0],_=v[1],x=Object(r.useState)(!0),y=Object(a.a)(x,2),w=y[0],N=y[1],C=Object(u.i)().user;return Object(r.useEffect)((function(){if(t){var e=function(e){return{game_name:Object(p.a)(Object(f.a)(e.game_id.toLowerCase())),payout:"".concat(e.payout,"x"),bet_amt:Object(d.a)(e.bet_amt),profit:Object(h.a)(e.bet_amt,e.payout,!0),coin:{symbol:e.coin},bet:{id:e.id}}},i=[];return i.push(b.b.initializeUserObserver.pipe(Object(l.a)((function(e){return e.initialized})),Object(c.a)()).subscribe((function(){var t=b.b.flowify({subMsg:function(){return{type:"get_my_bets"}},messageFilter:function(e){return"my_bets"===e.action}}).pipe(Object(o.a)((function(e){return null===e||void 0===e?void 0:e.bets})),Object(c.a)()).subscribe((function(t){Array.isArray(t)&&(_(t.map(e)),N(!1))}));i.push(t)}))),i.push(b.b.flowify({messageFilter:function(e){return"new_bet_received"===(null===e||void 0===e?void 0:e.action)&&e.user_name===(null===C||void 0===C?void 0:C.user_name)},subMsg:function(){return{type:"subscribe_all_bets"}},unsubMsg:function(){return{type:"unsubscribe_all_bets"}}}).pipe(Object(o.a)(e),Object(s.a)(300,null,30)).subscribe((function(e){e.length&&(_((function(t){return[].concat(Object(n.a)(e),Object(n.a)(t.slice(0,Math.max(30-e.length,0))))})),N(!1))}))),function(){i.forEach((function(e){e.closed||e.unsubscribe()}))}}}),[t]),Object(j.jsxs)("div",{className:P.a.wrapper,children:[Object(j.jsx)(m.a,{isOpenBetModalOnClick:!0,columns:[{field:"game_name",headerName:"Game Name"},{field:"payout",headerName:"Payout"},{field:"bet_amt",headerName:"Bet Amount",coinRender:!0},{field:"profit",headerName:"Profit",highlightWinValue:!0,coinRender:!0}],values:O,loading:w}),Object(j.jsx)(g,{})]})}},345:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e.length?"".concat(e[0].toUpperCase()).concat(e.slice(1)):e}},503:function(e,t,i){e.exports={headerHeight:"90px",mobileHeader:"90px",footerHeight:"80px",mobileFooterHeight:"150px",mobileWidth:"900px",inviteMobile2:"600px",gameMobile1:"1050px",gameMobile4:"800px",wrapper:"style_wrapper__3frXO",header:"style_header__yUYru",title:"style_title__31eZ3"}},512:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){switch(e.toLowerCase()){case"chartrider":return"Chart Rider";case"basilisk_slots":return"Slots";default:return e}}},531:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(20),a=i(15),r=i(50),o=i(503),c=i.n(o),l=i(0),s=["children","isOpen","setClose","title","className","classes"],u=function(e){var t=e.children,i=e.isOpen,o=e.setClose,u=e.title,b=(e.className,e.classes);Object(n.a)(e,s);return Object(l.jsxs)(r.a,{isOpen:i,onClose:o,classes:{dialog:Object(a.a)(c.a.wrapper,null===b||void 0===b?void 0:b.wrapper)},withCloseIcon:!0,children:[Object(l.jsx)("div",{className:Object(a.a)(c.a.header,null===b||void 0===b?void 0:b.header),children:u&&Object(l.jsx)("h1",{className:Object(a.a)(c.a.title,null===b||void 0===b?void 0:b.title),children:u})}),t]})}}}]);
//# sourceMappingURL=93.94b006b8.chunk.js.map